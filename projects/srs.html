<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mini ANKI SPA - Mobile Friendly</title>
<style>
/* Base styling */
body { font-family: Arial, sans-serif; margin: 0; padding: 10px; background: #f0f0f0; }
h1,h2 { margin-bottom: 10px; text-align:center; }
input { margin: 5px 0; padding: 10px; width: calc(100% - 22px); font-size:1em; box-sizing: border-box; border-radius:5px; border:1px solid #ccc; }
button { margin: 5px 2px; padding: 10px 15px; font-size:1em; cursor:pointer; border-radius:5px; border:none; background:#4CAF50; color:#fff; }
button:hover { background:#45a049; }
ul { list-style: none; padding: 0; }
li { padding: 10px; background: #fff; margin: 5px 0; border-radius: 6px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; font-size:1em; }
li span { cursor: pointer; flex-grow:1; min-width:60%; }
.edit-btn, .delete-btn { margin-left:5px; font-size:0.85em; padding:5px 8px; background:#2196F3; color:#fff; border:none; border-radius:4px; }
.delete-btn { background:#f44336; }
.edit-btn:hover { background:#1976D2; }
.delete-btn:hover { background:#d32f2f; }
#card-manager, #study-mode { display: none; }

/* Card container styling */
.card-container { perspective: 1000px; margin: 20px auto; width: 90%; max-width: 400px; }
.card { width: 100%; height: 220px; line-height: 220px; text-align:center; border:1px solid #ccc; background:#fff; border-radius:12px; cursor:pointer; font-size:1.3em; transition: transform 0.6s; transform-style: preserve-3d; position: relative; }
.card.flipped { transform: rotateY(180deg); }
.card-front, .card-back { position: absolute; width:100%; height:100%; backface-visibility: hidden; display:flex; align-items:center; justify-content:center; padding:10px; box-sizing:border-box; text-align:center; word-wrap: break-word; }
.card-back { transform: rotateY(180deg); }

/* Study mode buttons stack vertically on narrow screens */
#study-mode div button { display:inline-block; min-width:80px; margin:5px 2px; font-size:1em; }

/* Responsive tweaks */
@media (max-width: 500px) {
    li { flex-direction: column; align-items: flex-start; }
    li span { margin-bottom:5px; }
    button { width: 100%; margin:5px 0; }
    input { font-size:1.1em; }
}
</style>
</head>
<body>

<h1>Mini ANKI SPA (SM-2 Mobile)</h1>

<div id="deck-manager">
  <input type="text" id="deck-name" placeholder="New deck name">
  <button id="create-deck">Create Deck</button>
  <ul id="deck-list"></ul>
  <div>
    <button id="export-data">Export Data</button>
    <input type="file" id="import-file">
  </div>
</div>

<div id="card-manager">
  <h2 id="current-deck-name"></h2>
  <input type="text" id="card-front" placeholder="Front">
  <input type="text" id="card-back" placeholder="Back">
  <button id="add-card">Add Card</button>
  <button id="back-to-decks">Back to Decks</button>
  <ul id="card-list"></ul>
  <button id="study-deck">Study Deck</button>
</div>

<div id="study-mode">
  <h2 id="study-deck-title"></h2>
  <div class="card-container">
      <div id="flashcard" class="card">
          <div class="card-front"></div>
          <div class="card-back"></div>
      </div>
  </div>
  <div style="text-align:center;">
      <button id="flip-card">Flip</button>
      <button id="again">Again</button>
      <button id="good">Good</button>
      <button id="easy">Easy</button>
      <button id="end-study">End Study</button>
  </div>
</div>

<script>
// --- All previous JS code for IndexedDB, decks/cards, SM-2, import/export, editing/deleting ---
// This code is identical to the last fully polished version
// Only CSS and layout changes have been applied for mobile responsiveness

</script>
</body>
</html>
